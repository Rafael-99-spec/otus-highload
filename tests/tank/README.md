# –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —è–Ω–¥–µ–∫—Å.—Ç–∞–Ω–∫ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## –ó–∞–ø—É—Å–∫ —è–Ω–¥–µ–∫—Å.—Ç–∞–Ω–∫

–ù–∞ –º–∞—à–∏–Ω–µ —Å –∫–æ—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω docker. –í —Ä–∞–º–∫–∞—Ö –º–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —ç—Ç–æ –í–ú hl-client –∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø—Ä–æ–≤–∏–∂–∏–Ω–∏–Ω–≥–∞ –Ω–∞ –Ω–µ—ë —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ.

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ [—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ](yandextank/):

- [load.yaml](yandextank/load.yaml) - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫

- token.txt - —Ñ–∞–π–ª —Å —Ç–æ–∫–µ–Ω–æ–º –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ [OverloadùõÉ](https://overload.yandex.net/) (–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Ç.–∫. –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å/–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π)

–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ —É–¥–æ–±–Ω–µ–µ, —á—Ç–æ–±—ã –≤—Å–µ —Ñ–∞–π–ª—ã –ª–µ–∂–∞–ª–∏ —Ä—è–¥–æ–º.

–ó–∞–ø—É—Å–∫–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫

```bash
docker run -v $(pwd):/var/loadtest -v $HOME/.ssh:/home/otus/.ssh --rm -it direvius/yandex-tank
```

–∏–ª–∏  —Ç–∞–∫, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ –ø–æ ssh –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –∂–µ—Ä—Ç–≤—É

```bash
docker run -v $(pwd):/var/loadtest --rm -it direvius/yandex-tank
```

–∏–ª–∏ —Ç–∞–∫, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
docker run --entrypoint /bin/bash -v $(pwd):/var/loadtest --rm -it direvius/yandex-tank
```

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–í–æ –≤—Å–µ—Ö —Ç–µ—Å—Ç–∞—Ö —è–Ω–¥–µ–∫—Å.—Ç–∞–Ω–∫ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –ø–æ http-—Å—Å—ã–ª–∫–∞–º, —É–∫–∞–∑–∞–Ω–Ω—ã–º –≤ —Ñ–∞–π–ª–µ load.yaml. –í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –ü–û (zabbix) —ç—Ç–∏ —Å—Å—ã–ª–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –≥–æ—Å—Ç–µ–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏ –≤–µ–¥—É—Ç –Ω–∞ –∑–∞—Ä–∞–Ω–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –æ–±—â–∏–π –¥–∞—à–±–æ–∞—Ä–¥ –∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–æ–º–∏–º–æ http-–Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ web-—Å–µ—Ä–≤–µ—Ä–∞, –ø–æ–ª—É—á–∞–µ–º –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –°–£–ë–î –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏–ª–æ—Å—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–ø–∞—Ö —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —É—Å—Ç—Ä–∞–Ω—è–ª–æ—Å—å –Ω–∞–π–¥–µ–Ω–Ω–æ–µ  "–±—É—Ç—ã–ª–æ—á–Ω–æ–µ –≥–æ—Ä–ª—ã—à–∫–æ" - –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏/–∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞.

–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –≤—ã–≤–æ–¥—ã –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö:

- [01_web01.md](01_web01.md) - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ web (HA-–∫–ª–∞—Å—Ç–µ—Ä –±–µ–∑ http-–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏), –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ 42 rps –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫
- [02_web02.md](02_web02.md) - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ web (HA-–∫–ª–∞—Å—Ç–µ—Ä —Å http-–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–æ–π), –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ 25 rps –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫
- [03_db01.md](03_db01.md) - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ postgresql (HA-–∫–ª–∞—Å—Ç–µ—Ä —Å http-–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–æ–π), –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ 125 rps –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –∏ –∑–∞–º–µ—Ç–Ω–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ yandex.tank
- [03_db02.md](03_db02.md) - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HAProxy, pgbouncer, odyssey, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–æ 200 rps –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫
